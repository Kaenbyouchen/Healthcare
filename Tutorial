每次在本地修改项目，然后更新github和discovery：
1) 本地电脑：提交并推送到 GitHub (或者直接用pycharm自带的commit and push)：
git status
git add .
git commit -m "本次修改的说明"
git push

2) Discovery：拉取更新、进入环境、运行：
# 登录
ssh zrui6736@discovery.usc.edu

# 进入项目（任选其一）
cd /project2/ruishanl_1185/zrui6736/Healthcare
# 或者（若建了快捷链接）
# cd ~/Healthcare

# 拉取最新代码 (一定要在/project2/ruishanl_1185/zrui6736/Healthcare里面)
git pull

# 轻量脚本可以直接跑（登录节点不要长时间/重负载）
python your_script.py

#分配GPU:进入bash：
# 申请 1 块 GPU，4 CPU 核，16GB 内存，1 小时
srun --partition=gpu \
     --gres=gpu:1 \
     --cpus-per-task=4 \
     --mem=16G \
     --time=01:00:00 \
     --pty bash

#查询所在目录：pwd
#查询所用环境：which python
#环境名：py310


复现代码：
1.nnUnet：
需要数据集格式：
$nnUNet_raw/Dataset001_xxx/
    imagesTr/
    labelsTr/
    imagesTs/
    dataset.json
命名规则要求：
影像：caseID_0000.nii.gz
标签：caseID.nii.gz
使用powershell：
cd "D:\USC Research Ruishan Liu\multi-organ segmentation论文整理\Healthcare\nnunet\nnUNet_raw\Ruishan_T1_VIBE_Data_30"
看到确认提示符如PS D:\USC Research ...\Ruishan_T1_VIBE_Data_30>后
Get-ChildItem -File -Filter "*_img.nii.gz" | ForEach-Object { $new = $_.Name -replace "_img\.nii\.gz$", "_0000.nii.gz"; Rename-Item $_.FullName $new; Move-Item $new ".\imagesTr\" }
Get-ChildItem -File -Filter "*_lbl.nii.gz" | ForEach-Object { $new = $_.Name -replace "_lbl\.nii\.gz$", ".nii.gz"; Rename-Item $_.FullName $new; Move-Item $new ".\labelsTr\" }
以上是重命名加分配到特定文件夹


服务器上配置：
# 安装 nnU-Net
conda install install nnunetv2
# 创建并设置三类目录（改成服务器上的实际路径）
mkdir -p /data/nnUNet_raw /data/nnUNet_preprocessed /data/nnUNet_results
echo 'export nnUNet_raw=/data/nnUNet_raw'             >> ~/.bashrc
echo 'export nnUNet_preprocessed=/data/nnUNet_preprocessed' >> ~/.bashrc
echo 'export nnUNet_results=/data/nnUNet_results'      >> ~/.bashrc
